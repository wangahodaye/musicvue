{"version":3,"sources":["webpack:///src/base/listview/listview.vue","webpack:///./src/base/listview/listview.vue?b543","webpack:///./src/base/listview/listview.vue","webpack:///./src/common/js/singer.js","webpack:///src/components/singer/singer.vue","webpack:///./src/components/singer/singer.vue?79ba","webpack:///./src/components/singer/singer.vue","webpack:///./src/common/js/dom.js","webpack:///./node_modules/babel-runtime/helpers/extends.js","webpack:///./src/api/singer.js","webpack:///./node_modules/babel-runtime/helpers/classCallCheck.js"],"names":["listview","data","colors","color","showoffset","offsettoplist","currentitem","offsettopabsolate","left","top","mounted","this_","this","scroll","bscroll_esm","$refs","singerlistview","probeType","mouseWheel","click","tap","console","log","refresh","on","e","length","getindex","y","getoffsettoplist","computed","shortcutList","datas","map","group","title","substr","props","type","Array","default","methods","selectItem","item","$emit","colormethod","scrolltoitem","index","offsetTop","scrollTo","m","push","index2","dom","flagmin","flagmax","flag","nextitem","undefined","listview_listview","render","_vm","_h","$createElement","_c","_self","staticClass","directives","name","rawName","value","expression","style","_v","_s","_l","key","$event","ref","refInFor","staticRenderFns","base_listview_listview","__webpack_require__","normalizeComponent","ssrContext","Singer","_ref","id","classCallCheck_default","avatar","singer_singer","components","ListView","singers","created","_getSingerList","extends_default","selectSinger","singer","$router","path","setSinger","_this","Object","then","res","code","config","_normalizeSinger","list","hot","items","forEach","js_singer","Fsinger_name","Fsinger_mid","Findex","ret","val","match","sort","a","b","charCodeAt","concat","vuex_esm","components_singer_singer","attrs","select","singer_Component","singer_normalizeComponent","__webpack_exports__","el","className","RegExp","test","hasClass","newClass","split","join","elementStyle","document","createElement","transformNames","webkit","Moz","O","ms","standard","exports","__esModule","obj","_assign","_assign2","target","i","arguments","source","prototype","hasOwnProperty","call","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default","__WEBPACK_IMPORTED_MODULE_2__config__","channel","page","pagesize","pagenum","hostUin","needNewCode","platform","__WEBPACK_IMPORTED_MODULE_1_common_js_jsonp__","singerId","order","begin","num","songstatus","singermid","instance","Constructor","TypeError"],"mappings":"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","file":"static/js/3.e4644e01c28728479294.js","sourcesContent":["<template>\n  <div>\n    <div class=\"list-relative\" >\n      <div v-show=\"currentitem\" class=\"fixed-title offset\" :style=\"offsettopabsolate\">{{currentitem.title}}</div>\n      <div class=\"list-shortcut\" >\n       <ul  class=\"list-shortcut\">\n          <li v-for=\"(item, index) in shortcutList\" :key=\"index+'shortcut'\" class=\"item\"\n              :style=\"colormethod(item).colors\"\n          @click=\"scrolltoitem(index,item)\"\n          >\n            {{item}}\n          </li>\n        </ul>\n      </div>\n    </div>\n  <div class=\"recommend2\"  ref=\"singerlistview\">\n       <div  class=\"listview \"\n            ref=\"listview\">\n         <div v-for=\"(group,index) in datas\" :key=\"index+'group'\" :ref=\"index+'group'\">\n        <div class=\"fixed-title\">{{group.title}}</div>\n        <div  class=\"list-group-item\" @click=\"selectItem(item)\" v-for=\"(item,index) in group.items\" :key=\"index+'item'\">\n          <!--<img  class=\"avatar\" :src=\"item.avatar\">-->\n          <img  class=\"avatar\" v-lazy=\"item.avatar\">\n          <span class=\"name\">{{item.name}}</span>\n        </div>\n      </div>\n    </div>\n  </div>\n  </div>\n</template>\n\n<script type=\"text/ecmascript-6\">\n  import BScroll from 'better-scroll'\n  import Loading from 'base/loading/loading'\n  import {getData} from 'common/js/dom'\n  const TITLE_HEIGHT = 30\n  const ANCHOR_HEIGHT = 18\n  export default {\n    data(){\n      return {\n        colors:{color:'#ffcd32'},\n        showoffset:false,\n        offsettoplist:[],\n        currentitem:'',\n        offsettopabsolate:{\n          left: '0px',\n          top: '0px'\n        }\n      }\n    },\n    mounted () {\n      let this_=this;\n      this_.scroll = new BScroll(this_.$refs.singerlistview,{probeType:2,mouseWheel: true, click: true, tap: true })\n      console.log('this_.$refs.singerlistview',this_.$refs.singerlistview)\n      this_.scroll.refresh()\n      this_.scroll.on('scroll',function (e) {\n        console.log(\"this_.scroll:\",e)\n        if(!this_.offsettoplist.length){\n          this_.getoffsettoplist()\n          this_.currentitem=this_.offsettoplist[0]\n          console.log('this_.offsettoplist',this_.offsettoplist)\n        }else{\n          this_.currentitem=this_.getindex(e.y);\n        }\n        console.log(\"document.scroll:\",)\n      })\n      //\n    },\n    computed: {\n      shortcutList() {\n        return this.datas.map((group) => {\n          return group.title.substr(0, 1)\n        })\n      }\n    },\n    props: {\n      datas: {\n        type: Array,\n        default: []\n      }\n    },\n    methods:{\n      //  子路由歌手页面跳转。自定义事件\n      selectItem(item) {\n        this.$emit('select', item)\n      },\n      //  修改侧边栏颜色\n      colormethod(item){\n        if(this.currentitem&&this.currentitem.title.substr(0, 1)===item){\n          //&&this.currentitem.title.substr(0, 1)==item\n          // console.log('colormethod',this.currentitem)\n          return {colors:this.colors,title:this.currentitem.title}\n        }else{\n          return {colors:{},title:''}\n        }\n      },\n      //  滚动到指定元素\n      scrolltoitem(index,item){\n          let this_=this;\n          console.log(index,item);\n          if(!this.offsettoplist.length){\n            this_.getoffsettoplist()\n          }\n          let y=this.offsettoplist[index].offsetTop;\n          this_.currentitem=this.offsettoplist[index];\n          console.log('y',y,this.offsettoplist[index]);\n        // this.scroll.scrollToElement(this.$refs[index+'group'][0])\n        this.scroll.scrollTo(0, -y);\n      },\n      //  获取各个元素所在的位置\n      getoffsettoplist() {\n        let this_=this;\n        let length=this_.datas.length;\n        for(let index=0;index<length;index++){\n          let group=this_.datas[index];\n          let m=this_.$refs[index+'group'][0];\n          this_.offsettoplist.push({index2:index,dom:index+'group',offsetTop:m.offsetTop,title:group.title})\n        }\n      },\n      //  根据当前滚动位置，获取当前是在哪个元素内部，并且设置当前样式位置\n      getindex(y) {\n        let this_=this;\n        let item={};\n        let flagmin=false;\n        let flagmax=false;\n        let flag=0;\n        let length=this_.offsettoplist.length;\n        for(let index=0;index<length;index++){\n          let group=this_.offsettoplist[index];\n          if(group.offsetTop>-y){\n            flagmin=true;\n          }\n          if(group.offsetTop<-y){\n            flagmax=true;\n          }\n          if(flagmin&&flagmax){\n            item=group;\n            flag=index;\n            break;\n          }\n        }\n        // console.log(this_.offsettoplist[0])\n        // console.log(this_.offsettoplist[22])\n        // item=flag?this_.offsettoplist[flag-1]:item;\n        item=this_.offsettoplist[flag-1];\n        let nextitem=(flag>(length-1))?this_.offsettoplist[0]:this_.offsettoplist[flag];\n        if(item===undefined){\n          item=this_.offsettoplist[length-1];\n        }\n        let top=nextitem.offsetTop-(-y);\n        if(top>0&&top<=30){\n          this_.offsettopabsolate={\n            left: '0px',\n            top: -(30-top)+'px'\n          };\n        }else{\n          this_.offsettopabsolate={\n            left: '0px',\n            top: '0px'\n          };\n        }\n        console.log(y,'group',flag,item.title,item.index2,item.offsetTop,nextitem.offsetTop)\n        return item;\n      },\n\n    }\n  }\n</script>\n\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\">\n  @import \"~common/stylus/variable\"\n  .actives\n    color: #ffcd32;\n  .offset\n    position: relative\n    left: 0\n    top: 0\n    height 30px\n    overflow hidden\n  .listview\n    position: relative\n    left: 0\n    top: 0\n    z-index: 50\n  .fixed-title\n    height: 30px\n    text-align left\n    line-height: 30px\n    padding-left: 20px\n    font-size: $font-size-small\n    color: $color-text-l\n    background: $color-highlight-background\n  .list-group-item\n    display: flex\n    align-items: center\n    padding: 20px 0 4px 30px\n    .avatar\n      width: 50px\n      height: 50px\n      border-radius: 50%\n    .name\n      margin-left: 20px\n      color: $color-text-l\n      font-size: $font-size-medium\n  .list-relative\n    position: relative\n    z-index: 60\n    left: 0\n    top: 0\n    height 1px\n  .list-shortcut\n    position: absolute\n    right:0px\n    top: 20px\n    width: 20px\n    padding: 20px 0\n    border-radius: 10px\n    text-align: center\n    background: $color-background-d\n    font-family: Helvetica\n    .item\n      padding: 3px\n      line-height: 1\n      color: $color-text-l\n      font-size: $font-size-small\n      &.current\n        color: $color-theme\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/base/listview/listview.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"list-relative\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentitem),expression:\"currentitem\"}],staticClass:\"fixed-title offset\",style:(_vm.offsettopabsolate)},[_vm._v(_vm._s(_vm.currentitem.title))]),_vm._v(\" \"),_c('div',{staticClass:\"list-shortcut\"},[_c('ul',{staticClass:\"list-shortcut\"},_vm._l((_vm.shortcutList),function(item,index){return _c('li',{key:index+'shortcut',staticClass:\"item\",style:(_vm.colormethod(item).colors),on:{\"click\":function($event){_vm.scrolltoitem(index,item)}}},[_vm._v(\"\\n          \"+_vm._s(item)+\"\\n        \")])}))])]),_vm._v(\" \"),_c('div',{ref:\"singerlistview\",staticClass:\"recommend2\"},[_c('div',{ref:\"listview\",staticClass:\"listview \"},_vm._l((_vm.datas),function(group,index){return _c('div',{key:index+'group',ref:index+'group',refInFor:true},[_c('div',{staticClass:\"fixed-title\"},[_vm._v(_vm._s(group.title))]),_vm._v(\" \"),_vm._l((group.items),function(item,index){return _c('div',{key:index+'item',staticClass:\"list-group-item\",on:{\"click\":function($event){_vm.selectItem(item)}}},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.avatar),expression:\"item.avatar\"}],staticClass:\"avatar\"}),_vm._v(\" \"),_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(item.name))])])})],2)}))])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-98b2d164\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/listview/listview.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-98b2d164\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./listview.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./listview.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./listview.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-98b2d164\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./listview.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-98b2d164\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/listview/listview.vue\n// module id = null\n// module chunks = ","export default class Singer {\n  constructor({id, name}) {\n    this.id = id\n    this.name = name\n    this.avatar = `https://y.gtimg.cn/music/photo_new/T001R300x300M000${id}.jpg?max_age=2592000`\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/singer.js","<template>\n  <div class=\"singer\" ref=\"singer\">\n    <list-view @select=\"selectSinger\" :datas=\"singers\" ref=\"list\"></list-view>\n    <router-view></router-view>\n  </div>\n</template>\n\n<script type=\"text/ecmascript-6\">\n  import ListView from 'base/listview/listview'\n  import {getSingerList} from 'api/singer'\n  import {ERR_OK} from 'api/config'\n  import Singer from 'common/js/singer'\n  import {mapMutations} from 'vuex'\n  const HOT_SINGER_LEN = 10\n  const HOT_NAME = '热门'\n  export default {\n    name: 'Singer',\n    components: {\n      ListView\n    },\n    data() {\n      return {\n        singers: []\n      }\n    },\n    created() {\n      this._getSingerList();\n\n    },\n    methods: {\n      //  选中歌手跳转到歌手详情页\n      selectSinger(singer) {\n        this.$router.push({\n          path: `/singer/${singer.id}`\n        })\n        console.log('------singer',singer)\n        //  设置歌手的数据，，数据不通过路由参数进行传递。。而是通过vuex进行数据传递\n        //  什么时候可以通过路由参数进行传递呢？如果是简单的请求，参数不多，那就可以通过路由参数传递\n        // 通过路由设置 props接口。。如果参数需要包装修改，以及还有其他的参数，那就需要用vuex\n        //  路由的笔记  C:\\app\\nodefffff\\jsproject\\gulp_project\\webpackproject\\mpvuesproject\\mpinit\\business_city_system\\demo\\demowebpack\\vuecli\n        this.setSinger(singer)\n      },\n      //  获取歌手数据列表。。jsop\n      _getSingerList() {\n        getSingerList().then((res) => {\n          console.log('singers_getSingerList_res',res)\n          if (res.code === ERR_OK) {\n            //  对数据进行打包\n            this.singers = this._normalizeSinger(res.data.list)\n          }\n        })\n      },\n      // 格式化歌手列表爬取过来的数据\n      _normalizeSinger(list) {\n            let map = {\n              hot: {\n                title: HOT_NAME,\n                //  歌手数据\n                items: []\n              }\n            }\n            list.forEach((item, index) => {\n              if (index < HOT_SINGER_LEN) {\n                // 对歌手数据进行拼接。。图片地址是合成的\n                map.hot.items.push(new Singer({\n                  name: item.Fsinger_name,\n                  id: item.Fsinger_mid\n                }))\n              }\n              const key = item.Findex\n              if (!map[key]) {\n                map[key] = {\n                  title: key,\n                  items: []\n                }\n              }\n              map[key].items.push(new Singer({\n                name: item.Fsinger_name,\n                id: item.Fsinger_mid\n              }))\n            })\n            // 为了得到有序列表，我们需要处理 map\n            let ret = []\n            let hot = []\n            for (let key in map) {\n              let val = map[key]\n              if (val.title.match(/[a-zA-Z]/)) {\n                ret.push(val)\n              } else if (val.title === HOT_NAME) {\n                hot.push(val)\n              }\n            }\n            // 歌手按照字母表的排序，整合\n            // console.log('ret',ret)\n            //  十个热门\n            // console.log('hot',hot)\n            //  对数据进行排序。。函数式编程\n            ret.sort((a, b) => {\n              return a.title.charCodeAt(0) - b.title.charCodeAt(0)\n            })\n            // console.log('hot.concat(ret)',JSON.stringify(hot.concat(ret)))\n            return hot.concat(ret)\n      },\n      ...mapMutations({\n        //  这是给这个东西取方法别名，给本地调用\n        setSinger: 'SET_SINGER'\n      })\n    },\n  }\n</script>\n\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\">\n  .singer\n    position relative\n    top 0\n    left 0\n    height 80%\n    overflow hidden\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/singer/singer.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"singer\",staticClass:\"singer\"},[_c('list-view',{ref:\"list\",attrs:{\"datas\":_vm.singers},on:{\"select\":_vm.selectSinger}}),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c66cffc6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/singer/singer.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c66cffc6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./singer.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./singer.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./singer.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c66cffc6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./singer.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-c66cffc6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/singer/singer.vue\n// module id = null\n// module chunks = ","// 查找元素是否存在class。。。JQ很方便\nexport function hasClass(el, className) {\n  //  这里规则还是有遗漏。。class有多种情况。\n  let reg = new RegExp('(^|\\\\s)' + className + '(\\\\s|$)')\n  return reg.test(el.className)\n}\n\nexport function addClass(el, className) {\n  if (hasClass(el, className)) {\n    return\n  }\n\n  let newClass = el.className.split(' ')\n  newClass.push(className)\n  el.className = newClass.join(' ')\n}\n\nexport function getData(el, name, val) {\n  const prefix = 'data-'\n  if (val) {\n    return el.setAttribute(prefix + name, val)\n  }\n  return el.getAttribute(prefix + name)\n}\n\nlet elementStyle = document.createElement('div').style\n\nlet vendor = (() => {\n  let transformNames = {\n    webkit: 'webkitTransform',\n    Moz: 'MozTransform',\n    O: 'OTransform',\n    ms: 'msTransform',\n    standard: 'transform'\n  }\n\n  for (let key in transformNames) {\n    if (elementStyle[transformNames[key]] !== undefined) {\n      return key\n    }\n  }\n\n  return false\n})()\n\nexport function prefixStyle(style) {\n  if (vendor === false) {\n    return false\n  }\n\n  if (vendor === 'standard') {\n    return style\n  }\n\n  return vendor + style.charAt(0).toUpperCase() + style.substr(1)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/dom.js","\"use strict\";\n\nexports.__esModule = true;\n\nvar _assign = require(\"../core-js/object/assign\");\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _assign2.default || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/extends.js\n// module id = Dd8w\n// module chunks = 1 3","import jsonp from 'common/js/jsonp'\nimport {commonParams, options} from './config'\n//  获取歌手。。。JSONP\nexport function getSingerList() {\n  const url = 'https://c.y.qq.com/v8/fcg-bin/v8.fcg'\n\n  const data = Object.assign({}, commonParams, {\n    channel: 'singer',\n    page: 'list',\n    key: 'all_all_all',\n    pagesize: 100,\n    pagenum: 1,\n    hostUin: 0,\n    needNewCode: 0,\n    platform: 'yqq'\n  })\n\n  return jsonp(url, data, options)\n}\n//  获取歌手详情信息\n//https://c.y.qq.com/v8/fcg-bin/fcg_v8_singer_track_cp.fcg?g_tk=1928093487&inCharset=utf-8&outCharset=utf-8&notice=0&format=jsonp&hostUin=0&needNewCode=0&platform=yqq&order=listen&begin=0&num=80&songstatus=1&singermid=002J4UUk29y8BY&jsonpCallback=jp2\nexport function getSingerDetail(singerId) {\n  const url = 'https://c.y.qq.com/v8/fcg-bin/fcg_v8_singer_track_cp.fcg'\n  const data = Object.assign({}, commonParams, {\n    hostUin: 0,\n    needNewCode: 0,\n    platform: 'yqq',\n    order: 'listen',\n    begin: 0,\n    num: 80,\n    songstatus: 1,\n    singermid: singerId\n  })\n  return jsonp(url, data, options)\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/singer.js","\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/classCallCheck.js\n// module id = Zrlr\n// module chunks = 1 3"],"sourceRoot":""}